# Java程序设计

---

## 考核内容

1. 基本语法要素：标识符，关键字，数据类型。运算符。表达式
2. 控制流程语句，数组字符串的应用方法
3. 语言类，对象，接口的创建和实现方法
4. 语言继承和实现方法
5. 阅读Java语言源程序，编写调试一个结构合理清晰易懂层次分明的程序

---

## 概述

---

### 1.1 特点

**面向对象**，平台无关，多线程，动态

#### 面向对象的三个特征：
- 封装
- 继承
- 多态

> 封装：将函数封装到一个类中

---

### 1.2 基本结构

- `Java应用程序`由`若干个类`所`构成`，这些类可以在一个源文件中，也可以分布在若干个源文件中
- Java应用程序`从主类的main方法开始执行`

---

### 1.3 开发步骤

实例代码

```
class Man{
    }
    public class HelloW{
        public static void main(String []args){

        }
    }
```

> pubic:访问权限修饰符

---

步骤：
#### 1. 编写源文件
- 源文件拓展名.java
- 源文件名与public类同名
- 至多一个public类
- Java应用程序要有主类（main方法） 

```
public static void main(String `args`[])
```

- 源文件可以有多少个类
- 可以有多个主类

---

#### 2. 编译：

#### 源文件(.java) -->` 字节码(.class)文件`

用**编译器javac.exe**编译源文件

```
javac HelloW.java //带拓展名
```
一个类生成一个字节码文件

---

#### 3. 执行

#### 用java解释器(java.exe)来解释执行字节码文件

执行含有主方法(main)的字节码文件

```
java HelloW //不带拓展名
```

---

### 1.4 环境变量的配置

---

#### 1. 系统变量JAVA_HOME

> 根目录

---

#### 2. 系统环境path值

> %JAVA_HOME%**\bin**

---

#### 3. classpath 类路径

> %JAVA_HOME%\jre\lib\rt.jar

---

### 1.5 注释
#### 单行注释：`//`

#### 多行注释：`/* 注释 */`

#### 功能注释：`/**`

#### 文档注释：`* `

---

## Java的基本语法

---

### 2.1 标识符

#### **标识类名**
**规定**：

- 由**字母，下划线，美元符号$和数字**组成，长度不受限制；
- **第一个字读不能是数字**字符
- **不能是关键字**（关键字都是小写）
- 不能是**ture**，**false**和**null**（这些不是关键字）

---

### 2.2 数据类型

#### 基本数据类型8种

|关键字|类型|范围|
|---|---|---|
|boolean|逻辑类型|只能是true或false|
|byte|整数类型|-128到127；1字节|
|short|整数类型|-32768到32767；2字节|
|int|整数类型|int:十进制 21(默认) ；二进制 0b10 ：八进制 047 ；十六进制：0x3f ；4字节|
|long|整数类型|后缀L 21L，0b10L，047L；8字节|
|float|浮点类型|单精度；8位有效；f/F后缀|
|double|浮点类型|双精度；16位有效；d/D后缀（可省略）|
|char|字符类型||

引用类型（地址）：对象，数组和接口

---

#### 基本数据类型8种（优化版）

| 关键字 | 类型 | 字节数 | 位数 | 默认值 | 关键描述 / 范围 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| `boolean` | 逻辑型 | 约 1 字节* | - | `false` | 只能是 `true` 或 `false`。 |
| `byte` | 整数型 | 1 字节 | 8 位 | `0` | 范围：-128 到 127。 |
| `short` | 整数型 | 2 字节 | 16 位 | `0` | 范围：-32,768 到 32,767。 |
| `int` | 整数型 | 4 字节 | 32 位 | `0` | 默认整数类型。范围：$-2^{31}$ 到 $2^{31}-1$ (约 $\pm 21$ 亿)。 |
| `long` | 整数型 | 8 字节 | 64 位 | `0L` | 范围极大。赋值时需加后缀 `L` 或 `l`。 |
| `float` | 浮点型 | 4 字节 | 32 位 | `0.0f` | **单精度**。约 **7 位**有效数字。赋值时需加后缀 `F` 或 `f`。 |
| `double` | 浮点型 | 8 字节 | 64 位 | `0.0d` | **双精度**。约 **15-16 位**有效数字。默认浮点类型。 |
| `char` | 字符型 | 2 字节 | 16 位 | `'\u0000'` | 存储单个 **Unicode 字符**。用单引号表示，如 `'A'`。 |

---

#### 引用类型（Reference Types）

引用类型不存储数据值本身，而是存储**对象在堆内存中的地址**（引用）。
* **常见类型：** 对象（Class 实例）、数组（Array）、接口（Interface）、枚举（Enum）、注解（Annotation）。

---

#### 1. int型

4种表示方法

- **十进制**：123（默认一个不带小数部分的数是int类型）
- **八进制**：077（数字零做前缀）
- **十六进制**：0x3ABC （0x或0X做前缀）
- **二进制**：0b111 （0b或0B做前缀）

---

#### 2. byte型

- **值域**：-128～127
- 范围内的int型常量可以**赋值**给byte型变量
- **1**个字节 **8**位

---

#### 3. short型

- 一定范围内的int型常量可以**赋值**给short型变量
- **2**个字节 **16**位

---

#### 4. long 型

- 常量用后缀L来表示
- 例如: `108L`（十进制），`07123L`（八进制），`0x3ABCL`（十六进制）

---

#### 2.2.3 字符类型（重点）

`char`

**Unicode标准字符集，65536个字符**

---

#### `单引号扩起`的Unicode表中的一个字符：

**转意字符常量"\"开头的有效字符**:

- `\n` (**换行**)

- `\b` (**退格**)

- `\t` (**水平制表**)

- `\'` (**单引号**)

- `\"` (**双引号**)

- `\\` (**反斜线**)

#### `\u开头`的Unicode`转义字符`：

`\uxxx`（最多四位）,十六进制x

例如：
```
char ch='\u0041';  //等价于 char ch='A';
```
`2个字节`，16位

---

#### 2.2.4 浮点类型

---

#### float 型
例：

> 3.54F（**小数表示法**），2e4f（2乘10的4次方，**指数表示法**）；

- 后缀 d 或 D 可省略。
- **8**个字节，**64**位
- **16**位有效数字，实际精度取决于具体数值

---

注意⚠️：
- 一个具有小数部分的数据的缺省类型是`double`而不是`float`。所以float常量后面**必须要有后缀** `f` 或 `F` 。

---

#### 2.2.5 类型转换运算（重点）

---

#### **精度从“低”到“高”排列：**

> byte(1) --> short(2) --> char(2) --> int(4) --> long(8) --> float(4) --> double(8)

---

#### 转换运算`规则`：

---

#### 1. `级别低 --> 级别高，自动转换`

例如：float x=100;

---

#### 2. `级别高 --> 级别低，强制类型转换`

格式：（类型名）要转换的值；

例如：
```
int x=(int)4.8
```

---

#### 3. int 常量 --> byte、short型变量，不能超出变量的取值范围，否则进行类型转换运算

例如：
```
byte b=128; (error)
byte b=(byte)128; (ok)
```

---

### 2.3 运算符、表达式

---

#### 2.3.1 算术运算符与表达式
`+ - * / %` 双目运算符
`++ --` 单目运算符（变量）

---

整型、浮点型数据
++x （--x） 用x之前，先x的值增（减）1
x-- （x++） 用x之后，x的值增（减）1
#### 2.3.2 算术混合运算的精度（重点）
##### **按表达式中已有的最高精度运算，最低时int；** 

- 表达式中有double，按double运算；
- 最高精度是float，按float运算；
- 最高精度时long，按long运算；
- **最高精度低于int，按int计算**
- char和整形运算结果的精度是int

**注意⚠️：**
- **表达式中有变量时，编译器只检查变量的类型，不检查变量中的值的类型**
```
  例如： byte x= 97+1; //正确
        byte y= 1;
        byte z= 97+y; //错误
        int a=1;
        short b=a; //错误
        //左侧精度一定要比右侧精度高
```
#### 2.3.3 关系运算符与关系表达式
```
`>` `<` `>=` `<=` `==` `!=`
```
结果是boolean型；

`若比较引用，判断是否是相同的引用值（地址）。`

运算规则：
- **比较的是数据内容 --> “值”**
```
    3>3 4<5 4==5
    int a=2.*p.*q;
    p=&a,q=&a;
    p==q
```
- 当操作数是**基本数据类型**时，比较的事**数据内容**；
- 当操作数时**引用类型**时， == 、 

#### 2.3.4 逻辑
1. 双目，短路
- && 
- || 
2. 单目
- | 

必须是**boolean**型数据；
短路运算符：
    op1 && op2、 op1 || op2;
    当
    op2表达式的值；当op1未true时，||运算符就不再计算，op2的值


#### 2.3.5 赋值
=
左面的操作数必须是变量，不能是常量或表达式


#### 2.3.6 位
整型数据，按对应的二进制位进行运算
```
双目：
    & 与
    | 或
    ^ 异或
单目：
    ~ 非
```

---

#### 2.3.6 instanceof
**对象** instanceof **类**
当左面的对象时右面的类或子类创建的对象时该运算符运算的结果时true，否则时false

### 2.4 流程控制语句(重点、阅读、编程)

---

#### 2.4.1 if条件控制语句
**表达式结果必须是true、false**

##### 1. if语句
```
    if(表达式){
        若干语句
    }
```
##### 2. if-else语句
```
    if(表达式){
        若干语句1
    }
    else{
        若干语句2
    }
```

---

##### 3.if-else if-......-else

#### 2.4.2 switch 开关语句
```
    switch(表达式)
    {
        case 常量值1:
            若干个语句
            break;
        case 常量值2：
            若干个语句
            break;
        default:
            若干语句
    }
```
表达式值的类型可以是：byte、short、int、char、String
break语句可选
default可选，位置任意

#### 2.4.3 for 循环语句
```
    for(表达式1；表达式2；表达式3){
        若干语句
    }
```
执行规则：

    1. 计算“表达式1”，初始化

    2. 判断“表达式2”，若初值为true，则进行（3），否则进行（4）

    3. 执行循环体，然后计算“表达式3”，改变循环条件，进行（2）

#### 2.4.4 while、do-while循环
```
    while(表达式){ //表达式结果是true、false
        若干语句
    }
```
执行规则是：
    1. 执行循环体，在执行（2）
    2. 计算表达式，若值为true时，则执行（1）

### 2.5 数组的创建与使用（重点）
#### 2.5.1 声明数组
一维：
    元素类型 数组名[]; int a[];
    元素类型[] 数组名; int[] a;
二维：
    元素类型 数组名[][]; int a[][];
    元素类型[][] 数组名; int[][] a;
    元素类型[] 数组名[]; int[]a[];
#### 2.5.2 为数组分配元素空间
**数组属于引用型变量，数组变量中存数组首元素的地址；**
通过数组变量的名字加**索引**使用数组的元素；boy[0]
**声明数组变量时未给数组分配具体的数组空间**；
例如
```
    int boy[4];
    boy[0]=10; //错误
```
格式

#### 2.5.5 数组的引用（**重点**）
**两个相同类型的数组如果具有相同的引用，他们就有完全相同的元素。**
int a[]={1,2,3},b[]={4,5}
a=b; //具有相同的引用,指向b数组

#### 2.5.6 length的使用
· **一维**数组：“数组名.length“的值是数组中**元素的个数**；
```
    int a[]=new int[3];//int a={1,2,3}
    a.length //3
```

· **二维数组**：“数组名.length“的值是它含有的**一维数组的个数**
```
    int c[][]={{1,2},{3,4},{5,6}};//int c{}{}=new int [3][2];
    c.length    //3
```

- 二维数组的第二维（列）大小可以不同
```
int d[][]={{1},{2,3}};
```

### 2.6 输入和输出
1. 输入
```
Scanner reader=new Scanner(System.in);
//空格，回车分隔
```
reader 调用方法: 
- nextBoolean()
- nextByte()
- nextShort()
- nextInt()
- nextLong()
- nextFloat()
- nextDouble()

例：
read.nextInt();
//读一个int值

模版：
```
//键盘输入若干数计算后输出
import java.util.Scanner;
public class MainA{
    public static void main(String[] args){
        int a[]=new int[10]; //题干有数组
        Scanner reader=new Scanner(System.in);
        int m=reader.nextInt();
        int n=reader.nextInt();
        for(int i=0;i<10;i++){
            a[i]=reader.nextInt
        }
        //计算
        if(m>n)
        System.out.println(m);

    }
}
```

2. 输出
- System.out.println();    //换行
- System.out.print();   //不换行
输出**串**值，**表达式**的值
int q=5;
"m+n="+q+1
输出：“m+n=51"
System.out.printf("格式控制部分",表达式1，表达式2，......表达式n)

System.out.println(12+n)
System.out.println(n)
System.out.println("hello")
System.out.print("m+n="+q)

3. 面向对象程序设计基础
